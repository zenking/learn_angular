<!DOCTYPE html>
<html lang="en" ng-app="demo">
<head>
    <meta charset="UTF-8">
    <title>ui.bootstrap.accordion用法</title>
    <link rel="stylesheet" href="../bower_components/bootstrap/dist/css/bootstrap.css"/>
    <script src="../bower_components/angular/angular.js"></script>
    <script src="../bower_components/angular-animate/bower-angular-animate-1.4.8/angular-animate.js"></script>
    <script src="../bower_components/angular-bootstrap/ui-bootstrap-tpls.js"></script>
    <script src="../bower_components/angular-i18n/angular-locale_zh-cn.js"></script>
</head>
<body ng-controller="DemoController as demo">

<div>
    <script type="text/ng-template" id="group-template.html">
        <div class="panel {{panelClass || 'panel-default'}}">
            <div class="panel-heading">
                <h4 class="panel-title" style="color:#fa39c3">
                    <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()"
                       uib-accordion-transclude="heading">
                        <span ng-class="{'text-muted': isDisabled}">{{heading}}</span>
                    </a>
                </h4>
            </div>
            <div class="panel-collapse collapse" uib-collapse="!isOpen">
                <div class="panel-body" style="text-align: right" ng-transclude></div>
            </div>
        </div>
    </script>

    <p>
        <button type="button" class="btn btn-default btn-sm" ng-click="demo.model.open = !demo.model.open">
            切换显示最后一个accordion
        </button>
        <button type="button" class="btn btn-default btn-sm"
                ng-click="demo.model.isFirstDisabled = ! demo.model.isFirstDisabled">
            禁用/启用第一个accordion
        </button>
    </p>

    <div class="checkbox">
        <label>
            <input type="checkbox" ng-model="demo.model.oneAtATime">
            只能同时展开一个accordion
        </label>
    </div>

    <uib-accordion close-others="demo.model.oneAtATime">
        <!--1-->
        <uib-accordion-group heading="静态头部文字"
                             is-open="demo.model.isFirstOpen"
                             is-disabled="demo.model.isFirstDisabled">
            这里可以直接写模版html
        </uib-accordion-group>

        <!--2-->
        <uib-accordion-group heading="{{group.title}}" ng-repeat="group in demo.model.groups">
            {{group.content}}
        </uib-accordion-group>

        <!--3-->
        <uib-accordion-group heading="动态内容">
            <p>accordion会根据内容的增加自适应</p>
            <button type="button" class="btn btn-default btn-sm" ng-click="demo.fn.addItem()">增加</button>
            <div ng-repeat="item in demo.model.items">{{item}}</div>
        </uib-accordion-group>

        <!--4-->
        <uib-accordion-group heading="自定义内容模版" is-disabled="" template-url="group-template.html">
            Hello
        </uib-accordion-group>

        <!--5-->
        <uib-accordion-group heading="Delete account" panel-class="panel-danger">
            <p>点击下面的按钮，删除账户</p>
            <button class="btn btn-danger">Delete</button>
        </uib-accordion-group>

        <!--6-->
        <uib-accordion-group is-open="demo.model.open">
            <uib-accordion-heading>
                也可以通过uib-accordion-heading来设置标题
                <i class="pull-right glyphicon"
                   ng-class="{'glyphicon-chevron-down': demo.model.open, 'glyphicon-chevron-right': !demo.model.open}"></i>
            </uib-accordion-heading>
            This is just some content to illustrate fancy headings.
        </uib-accordion-group>
    </uib-accordion>
</div>


<script>

    angular.module('demo', [
        'ui.bootstrap',
        'ngAnimate'
    ]);

    (function () {
        angular
                .module('demo')
                .controller('DemoController', DemoController);

        DemoController.$inject = ['$log'];

        function DemoController($log) {

            var ctrl = this;
            ctrl.model = {
                oneAtATime: false,
                isFirstOpen: true,
                isFirstDisabled: false,
                isCustomDisabled: false,
                groups: [
                    {
                        title: '动态标题 - 1',
                        content: '动态内容 - 1'
                    },
                    {
                        title: '动态标题 - 2',
                        content: '动态内容 - 2'
                    }
                ],
                items: ['Item 1', 'Item 2', 'Item 3']
            };
            ctrl.fn = {
                addItem: addItem
            };

            function addItem() {
                var newNum = ctrl.model.items.length + 1;
                ctrl.model.items.push('Item' + ' ' + newNum);
            }
        }
    })();
</script>
</body>
</html>


